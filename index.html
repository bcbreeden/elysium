<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Real-Time Updates</title>
</head>
<body>
  <h1>Real-Time Updates</h1>
  <div id="updates">Loading...</div>

  <script type="module">
    // Function to simulate a typing effect
    import { typeText } from './typingEffect.js';

    // Function to fetch updates from the server
    function fetchUpdates() {
        fetch("/get-updates")
            .then(response => response.text())
            .then(data => {
            const updatesElement = document.getElementById("updates");
            typeText(updatesElement, data);  // typeText will now be globally available
            })
            .catch(error => console.error("Error fetching updates:", error));
        }

    // Polling every 5 seconds
    setInterval(fetchUpdates, 5000);
    fetchUpdates();  // Fetch immediately on page load
  </script>
</body>
</html>